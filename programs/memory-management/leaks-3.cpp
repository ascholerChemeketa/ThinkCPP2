    ...
    delete p1;
    delete p2;

    p1 = nullptr;
    p2 = nullptr;
    // --end of foo()--
    ...